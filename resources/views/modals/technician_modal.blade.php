<!-- Technician Modal -->\n<div class="modal fade" id="technicianModal" tabindex="-1">\n    <div class="modal-dialog modal-xl">\n        <div class="modal-content">\n            <div class="modal-header" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 0.5rem 1rem;">\n                <h6 class="modal-title mb-0" id="technicianModalLabel"><i class="fas fa-user-plus me-2"></i>Add/Edit Technician</h6>\n                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" style="padding: 0.25rem;"></button>\n            </div>\n            <div class="modal-body" style="max-height: 75vh; overflow-y: auto; padding: 0.75rem;">\n                <form id="technicianForm" enctype="multipart/form-data">\n                    <input type="hidden" id="technicianId" name="id">\n                    \n                    <!-- Personal Information -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-primary text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-user me-1"></i>Personal Information</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-2">\n                                    <label for="technicianTitle" class="form-label mb-1 small">Title *</label>\n                                    <select class="form-select form-select-sm" id="technicianTitle" name="title" required>\n                                        <option value="">Select</option>\n                                        <option value="Mr.">Mr.</option>\n                                        <option value="Mrs.">Mrs.</option>\n                                        <option value="Ms.">Ms.</option>\n                                        <option value="Dr.">Dr.</option>\n                                        <option value="Eng.">Eng.</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianFirstName" class="form-label mb-1 small">First Name *</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianFirstName" name="first_name" required>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianMiddleName" class="form-label mb-1 small">Middle Name</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianMiddleName" name="middle_name">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianLastName" class="form-label mb-1 small">Last Name *</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianLastName" name="last_name" required>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianGender" class="form-label mb-1 small">Gender *</label>\n                                    <select class="form-select form-select-sm" id="technicianGender" name="gender" required>\n                                        <option value="">Select</option>\n                                        <option value="Male">Male</option>\n                                        <option value="Female">Female</option>\n                                        <option value="Other">Other</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianDOB" class="form-label mb-1 small">Date of Birth</label>\n                                    <input type="date" class="form-control form-control-sm" id="technicianDOB" name="date_of_birth">\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianNationality" class="form-label mb-1 small">Nationality</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianNationality" name="nationality">\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianIDNumber" class="form-label mb-1 small">ID Number</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianIDNumber" name="id_number">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Contact Information -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-success text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-address-book me-1"></i>Contact Information</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-4">\n                                    <label for="technicianEmail" class="form-label mb-1 small">Email Address *</label>\n                                    <input type="email" class="form-control form-control-sm" id="technicianEmail" name="email" required>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianPhone1" class="form-label mb-1 small">Phone Number 1 *</label>\n                                    <input type="tel" class="form-control form-control-sm" id="technicianPhone1" name="phone_1" required>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianPhone2" class="form-label mb-1 small">Phone Number 2</label>\n                                    <input type="tel" class="form-control form-control-sm" id="technicianPhone2" name="phone_2">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianWhatsapp" class="form-label mb-1 small">WhatsApp Number</label>\n                                    <input type="tel" class="form-control form-control-sm" id="technicianWhatsapp" name="whatsapp">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianEmergencyContact" class="form-label mb-1 small">Emergency Contact</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianEmergencyContact" name="emergency_contact">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianEmergencyPhone" class="form-label mb-1 small">Emergency Phone</label>\n                                    <input type="tel" class="form-control form-control-sm" id="technicianEmergencyPhone" name="emergency_phone">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Address & Location -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-info text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-map-marker-alt me-1"></i>Address & Location</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-3">\n                                    <label for="technicianCountry" class="form-label mb-1 small">Country *</label>\n                                    <select class="form-select form-select-sm" id="technicianCountry" name="country" required>\n                                        <option value="">Select</option>\n                                        <option value="Uganda" selected>Uganda</option>\n                                        <option value="Kenya">Kenya</option>\n                                        <option value="Tanzania">Tanzania</option>\n                                        <option value="Rwanda">Rwanda</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianRegion" class="form-label mb-1 small">Region *</label>\n                                    <select class="form-select form-select-sm" id="technicianRegion" name="region" required>\n                                        <option value="">Select</option>\n                                        <option value="Central">Central</option>\n                                        <option value="Eastern">Eastern</option>\n                                        <option value="Northern">Northern</option>\n                                        <option value="Western">Western</option>\n                                        <option value="Kampala">Kampala</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianDistrict" class="form-label mb-1 small">District *</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianDistrict" name="district" required>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianSubCounty" class="form-label mb-1 small">Sub-County</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianSubCounty" name="sub_county">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianParish" class="form-label mb-1 small">Parish</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianParish" name="parish">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianVillage" class="form-label mb-1 small">Village/Street</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianVillage" name="village">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianPostalCode" class="form-label mb-1 small">Postal Code</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianPostalCode" name="postal_code">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Professional Information -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-warning text-dark py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-tools me-1"></i>Professional Information</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-4">\n                                    <label for="technicianSpecialty" class="form-label mb-1 small">Specialty *</label>\n                                    <select class="form-select form-select-sm" id="technicianSpecialty" name="specialty" required>\n                                        <option value="">Select</option>\n                                        <option value="E-cooking technician">E-cooking technician</option>\n                                        <option value="Refrigeration Systems">Refrigeration Systems</option>\n                                        <option value="Electronics Repair">Electronics Repair</option>\n                                        <option value="Kitchen Appliances">Kitchen Appliances</option>\n                                        <option value="Air Conditioning">Air Conditioning</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianSubSpecialty" class="form-label mb-1 small">Sub-Specialty</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianSubSpecialty" name="sub_specialty">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianLicenseNumber" class="form-label mb-1 small">License Number *</label>\n                                    <input type="text" class="form-control form-control-sm" id="technicianLicenseNumber" name="license_number" required>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianLicenseExpiry" class="form-label mb-1 small">License Expiry</label>\n                                    <input type="date" class="form-control form-control-sm" id="technicianLicenseExpiry" name="license_expiry">\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianExperience" class="form-label mb-1 small">Experience (Years) *</label>\n                                    <input type="number" class="form-control form-control-sm" id="technicianExperience" name="experience" min="0" max="50" required>\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianHourlyRate" class="form-label mb-1 small">Hourly Rate (UGX)</label>\n                                    <input type="number" class="form-control form-control-sm" id="technicianHourlyRate" name="hourly_rate" min="0" step="1000">\n                                </div>\n                                <div class="col-md-3">\n                                    <label for="technicianDailyRate" class="form-label mb-1 small">Daily Rate (UGX)</label>\n                                    <input type="number" class="form-control form-control-sm" id="technicianDailyRate" name="daily_rate" min="0" step="1000">\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianStatus" class="form-label mb-1 small">Status *</label>\n                                    <select class="form-select form-select-sm" id="technicianStatus" name="status" required>\n                                        <option value="Available">Available</option>\n                                        <option value="Busy">Busy</option>\n                                        <option value="Unavailable">Unavailable</option>\n                                        <option value="On Leave">On Leave</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianEmploymentType" class="form-label mb-1 small">Employment Type *</label>\n                                    <select class="form-select form-select-sm" id="technicianEmploymentType" name="employment_type" required>\n                                        <option value="">Select</option>\n                                        <option value="Full-Time">Full-Time</option>\n                                        <option value="Part-Time">Part-Time</option>\n                                        <option value="Contract">Contract</option>\n                                        <option value="Freelance">Freelance</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianStartDate" class="form-label mb-1 small">Start Date</label>\n                                    <input type="date" class="form-control form-control-sm" id="technicianStartDate" name="start_date">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Skills & Certifications -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-secondary text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-certificate me-1"></i>Skills & Certifications</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-6">\n                                    <label for="technicianSkills" class="form-label mb-1 small">Skills (comma separated)</label>\n                                    <textarea class="form-control form-control-sm" id="technicianSkills" name="skills" rows="2" placeholder="e.g., AC Repair, Refrigerator Maintenance"></textarea>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianCertifications" class="form-label mb-1 small">Certifications (comma separated)</label>\n                                    <textarea class="form-control form-control-sm" id="technicianCertifications" name="certifications" rows="2" placeholder="e.g., Certified HVAC Technician"></textarea>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianTraining" class="form-label mb-1 small">Training Completed</label>\n                                    <textarea class="form-control form-control-sm" id="technicianTraining" name="training" rows="2" placeholder="e.g., Advanced Electronics"></textarea>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianLanguages" class="form-label mb-1 small">Languages Spoken</label>\n                                    <textarea class="form-control form-control-sm" id="technicianLanguages" name="languages" rows="2" placeholder="e.g., English, Luganda"></textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Equipment & Tools -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-dark text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-wrench me-1"></i>Equipment & Tools</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-4">\n                                    <label for="technicianOwnTools" class="form-label mb-1 small">Own Tools?</label>\n                                    <select class="form-select form-select-sm" id="technicianOwnTools" name="own_tools">\n                                        <option value="Yes">Yes</option>\n                                        <option value="No">No</option>\n                                        <option value="Partial">Partial</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianVehicle" class="form-label mb-1 small">Has Vehicle?</label>\n                                    <select class="form-select form-select-sm" id="technicianVehicle" name="has_vehicle">\n                                        <option value="Yes">Yes</option>\n                                        <option value="No">No</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-4">\n                                    <label for="technicianVehicleType" class="form-label mb-1 small">Vehicle Type</label>\n                                    <select class="form-select form-select-sm" id="technicianVehicleType" name="vehicle_type">\n                                        <option value="">Select</option>\n                                        <option value="Motorcycle">Motorcycle</option>\n                                        <option value="Car">Car</option>\n                                        <option value="Van">Van</option>\n                                        <option value="Truck">Truck</option>\n                                    </select>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianEquipmentList" class="form-label mb-1 small">Equipment List</label>\n                                    <textarea class="form-control form-control-sm" id="technicianEquipmentList" name="equipment_list" rows="2" placeholder="List equipment/tools"></textarea>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianServiceAreas" class="form-label mb-1 small">Service Areas</label>\n                                    <textarea class="form-control form-control-sm" id="technicianServiceAreas" name="service_areas" rows="2" placeholder="Service areas"></textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Profile Picture & Notes -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-light text-dark py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-image me-1"></i>Profile Picture & Notes</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-6">\n                                    <label for="technicianImage" class="form-label mb-1 small">Profile Picture</label>\n                                    <input type="file" class="form-control form-control-sm" id="technicianImage" name="profile_picture" accept="image/*">\n                                    <div id="currentTechnicianImage" class="mt-1"></div>\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianNotes" class="form-label mb-1 small">Additional Notes</label>\n                                    <textarea class="form-control form-control-sm" id="technicianNotes" name="notes" rows="3" placeholder="Additional information..."></textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- Account Information -->\n                    <div class="card mb-2">\n                        <div class="card-header bg-danger text-white py-1">\n                            <small class="mb-0 fw-bold"><i class="fas fa-key me-1"></i>Account Information</small>\n                        </div>\n                        <div class="card-body p-2">\n                            <div class="row g-2">\n                                <div class="col-md-6">\n                                    <label for="technicianPassword" class="form-label mb-1 small">Password <small class="text-muted">(leave blank to keep current)</small></label>\n                                    <input type="password" class="form-control form-control-sm" id="technicianPassword" name="password" minlength="6">\n                                </div>\n                                <div class="col-md-6">\n                                    <label for="technicianPasswordConfirm" class="form-label mb-1 small">Confirm Password</label>\n                                    <input type="password" class="form-control form-control-sm" id="technicianPasswordConfirm" name="password_confirmation" minlength="6">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="modal-footer py-2">\n                <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">\n                    <i class="fas fa-times me-1"></i>Cancel\n                </button>\n                <button type="button" class="btn btn-sm btn-outline-info" onclick="resetTechnicianForm()">\n                    <i class="fas fa-undo me-1"></i>Reset\n                </button>\n                <button type="submit" form="technicianForm" class="btn btn-sm btn-info">\n                    <i class="fas fa-save me-1"></i>Save\n                </button>\n            </div>\n        </div>\n    </div>\n</div>
